
## 文件
```
FILE *fp;
fp=fopen("file.txt","r");//失败返回NULL
```
## 参数
使用方式 | 含义
--|--
r | 打开文本文件，只读
w | 打开/创建文本文件，只写
a | 打开文本文件，文件末尾写数据
rb | 打开二进制文件，只读
wb | 打开/创建二进制文件，只写
ab | 打开二进制文件，文件末尾写数据
r+ | 打开文本文件，允许读
w+ | 打开/创建文本文件，允许读写
a+ | 打开/创建文本文件，允许读，或在末尾追加
rb+ | 打开二进制文件，允许读写
wb+ | 打开/创建二进制文件，允许读写
ab+ | 打开二进制文件，允许读，或在末尾追加

## 函数
- fopen(文件名,使用文件方式)
- fclose(文件指针)
- ch = fputc(ch,fp) 将字符写到磁盘文件中
- ch = fgetc(fp) 从指定文件中读取一个字符赋予ch  //函数结束时返回文件结束标志EOF
- fputs(字符串，文件指针) 向指定文件写入一个字符串
- fgets(字符数组名,n,文件指针) n标识读取的字符串中字符的个数 (包含"\0")
- ch=fprintf(文件类型指针,格式字符串,输出列表)
- fscanf(文件类型指针,格式字符串,输入列表)
- fread(buffer,size,count,fp)
- fwrite(buffer,size,count,fp)

fgets | gets
--|--
存储换行符并在其后写一个 null character('\0') | gets函数读完回车换行('\n')并不存储它

getchar

getchar有一个int型的返回值。当程序调用getchar时.程序就等着用户按键。用户输入的字符被存放在键盘缓冲区中。直到用户按回车为止（回车字符也放在缓冲区中）。当用户键入回车之后，getchar才开始从stdin流中每次读入一个字符。getchar函数的返回值是用户输入的字符的ASCII码，若文件结尾(End-Of-File)则返回-1(EOF)，且将用户输入的字符回显到屏幕。如用户在按回车之前输入了不止一个字符，其他字符会保留在键盘缓存区中，等待后续getchar调用读取。也就是说，后续的getchar调用不会等待用户按键，而直接读取缓冲区中的字符，直到缓冲区中的字符读完后，才等待用户按键。

## 文件定位

### fseek函数

移动文件内部的位置指针`fseek(文件类型指针,位移量,起始点)`,常用于二进制文件。文本文件中使用时，由于要进行转换，计算的位置会出现错误。

- 文件类型指针:文件
- 位移量:移动的字节数 long，负数向前
- 起始点:何处开始计算便宜了，文件首(SEEK-SET):0，文件当前位置(SEEK-CUR):1，文件尾(SEEK-END):2

### rewind函数

将位置指针重返文件开头，无返回值.`int rewind(文件类型指针)`。

### ftail函数

得到流式文件中的当前位置，并使用相对于文件头的位移量表示。`long ftell(文件类型指针)`。返回-1:表示出错。

